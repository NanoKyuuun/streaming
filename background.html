<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>BG • Spacefield 400x400 (White)</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{
  --accent:#22d3ee; --accent-2:#a78bfa; --scan:rgba(255,255,255,.06);
}
html,body{height:100%}
body{background:#000000; margin:0;} /* ← putih, bukan transparan */
#stage{width:1920px;height:1080px; background:#000000;} /* stage juga putih */
.vignette{box-shadow:inset 0 0 180px rgba(0,0,0,.6), inset 0 0 480px rgba(0,0,0,.35)}
</style>
</head><body>
<div id="stage" class="relative">
  <canvas id="b" class="absolute inset-0"></canvas>
  <canvas id="f" class="absolute inset-0"></canvas>
  <div class="absolute inset-0 pointer-events-none" id="nebula"></div>
  <div class="absolute inset-0 pointer-events-none vignette"></div>
</div>

<script>
const W=1920, H=1080;
const b=document.getElementById('b'), f=document.getElementById('f');
const cb=b.getContext('2d'), cf=f.getContext('2d');
b.width=f.width=W; b.height=f.height=H;

const q=new URLSearchParams(location.search);
const ACC = q.get('accent')  || '#22d3ee';
const ACC2= q.get('accent2') || '#a78bfa';
const density = Math.max(1, Number(q.get('density')||'2')); // ← perbanyak bulir (default 2x)

document.documentElement.style.setProperty('--accent',ACC);
document.documentElement.style.setProperty('--accent-2',ACC2);

// Nebula di atas background putih (boleh diubah opacity via CSS kalau mau lebih subtle)
document.getElementById('nebula').style.background =
  `radial-gradient(80% 60% at 100% 0%, ${hexA(ACC2,.25)} 0%, transparent 55%),
   radial-gradient(60% 50% at 0% 100%, ${hexA(ACC,.18)} 0%, transparent 60%)`;

const motion = (q.get('motion')!=='off') && !matchMedia('(prefers-reduced-motion: reduce)').matches;

// Base count diperbanyak dengan faktor density
const baseA = 180, baseB = 120;
const la=[...Array(Math.round(baseA * density))].map(()=>({
  x:Math.random()*W, y:Math.random()*H, s:Math.random()*1.4+.2, a:Math.random()*.6+.1
}));
const lb=[...Array(Math.round(baseB * density))].map(()=>({
  x:Math.random()*W, y:Math.random()*H, s:Math.random()*2.1+.3, a:Math.random()*.8+.2
}));

function draw(ctx,stars,dx,dy,tw,clr){
  ctx.clearRect(0,0,W,H);
  for(const s of stars){
    s.x = (s.x + dx + W) % W;
    s.y = (s.y + dy + H) % H;
    const t = tw ? (Math.sin((s.x+s.y+performance.now()/700)*.6)*.2+.8) : 1;
    ctx.globalAlpha = s.a * t;
    ctx.fillStyle = clr;
    ctx.fillRect(s.x, s.y, s.s, s.s);
  }
  ctx.globalAlpha = 1;
}

function loop(){
  if(motion){
    draw(cb, la, -0.08, 0.00, false, ACC2);
    draw(cf, lb, -0.24, 0.02,  true, ACC);
    requestAnimationFrame(loop);
  } else {
    draw(cb, la, 0, 0, false, ACC2);
    draw(cf, lb, 0, 0, false, ACC);
  }
}
loop();

function hexA(hex,a){
  const c=parseInt(hex.replace('#',''),16);
  const r=c>>16&255, g=c>>8&255, b=c&255;
  return `rgba(${r},${g},${b},${a})`;
}
</script>
</body></html>

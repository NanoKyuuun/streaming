<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>HUD • Top Bar</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&family=Outfit:wght@400;800&display=swap" rel="stylesheet">
<style>
:root{--accent:#22d3ee;--accent-2:#a78bfa;--ring:rgba(34,211,238,.55);--ring2:rgba(167,139,250,.45)}
body{background:transparent;font-family:'Outfit',ui-sans-serif}
#stage{width:1920px;height:120px}
.card{border:1px solid rgb(255, 255, 255);background:linear-gradient(180deg,rgb(114, 186, 228),rgb(162, 199, 194));backdrop-filter:blur(8px);}
.pulse-dot{box-shadow:0 0 0 0 rgba(239,68,68,.7);animation:p 1.6s infinite}@keyframes p{100%{box-shadow:0 0 0 16px rgba(239,68,68,0)}}
.hud{ text-shadow:0 0 12px rgba(255, 255, 255, 0.45),0 0 24px rgba(34,211,238,.2) }
</style>
</head><body>
<div id="stage" class="relative">
  <div class="absolute inset-x-0 top-0 mx-8 mt-4 flex items-center justify-between rounded-2xl card px-6 py-3">
    <div class="flex items-center gap-3">
      <span class="relative inline-flex items-center gap-2 rounded-full bg-red-500/20 px-4 py-1.5 border border-red-400/50">
        <span class="w-2.5 h-2.5 rounded-full bg-red-500 pulse-dot"></span>
        <span class="font-extrabold text-red-500 tracking-[0.3em]">LIVE</span>
      </span>
      <span class="text-sm text-white">Viewers: <span id="v">1,264</span></span>
    </div>
    <h1 id="t" class="text-[20px] font-extrabold tracking-[0.22em] text-white hud">SPACE STATION • COMMAND STREAM</h1>
    <div class="text-right leading-tight">
      <div id="clk" class="text-white font-semibold hud text-[18px]">00:00:00</div>
      <div class="text-[10px] text-white"><span id="mode">UTC</span> <span id="date"></span></div>
    </div>
  </div>
</div>
<script>
const q = new URLSearchParams(location.search);
const t = document.getElementById('t'),
      v = document.getElementById('v'),
      clk = document.getElementById('clk'),
      dateEl = document.getElementById('date'),
      modeEl = document.getElementById('mode');

if (q.get('title')) t.textContent = q.get('title');
if (q.get('viewers')) v.textContent = Number(q.get('viewers')).toLocaleString();

// warna aksen
const ACC = q.get('accent') || '#22d3ee';
const ACC2 = q.get('accent2') || '#a78bfa';
document.documentElement.style.setProperty('--accent', ACC);
document.documentElement.style.setProperty('--accent-2', ACC2);

// mode jam: PRIORITAS => tz (IANA) > clock (LOCAL/UTC) > default LOCAL
const tzParam = q.get('tz'); // contoh: Asia/Jakarta
const clockParam = (q.get('clock') || '').toUpperCase();
const useUTC = clockParam === 'UTC';
const useLOCAL = clockParam === 'LOCAL' || (!tzParam && !useUTC);

let labelMode;
let fmt;
if (tzParam) {
  labelMode = tzParam;
  fmt = new Intl.DateTimeFormat(undefined, {
    hour12: false, timeZone: tzParam,
    year: 'numeric', month: '2-digit', day: '2-digit',
    hour: '2-digit', minute: '2-digit', second: '2-digit'
  });
} else if (useUTC) {
  labelMode = 'UTC';
  fmt = new Intl.DateTimeFormat(undefined, {
    hour12: false, timeZone: 'UTC',
    year: 'numeric', month: '2-digit', day: '2-digit',
    hour: '2-digit', minute: '2-digit', second: '2-digit'
  });
} else {
  labelMode = 'LOCAL';
  fmt = new Intl.DateTimeFormat(undefined, {
    hour12: false,
    year: 'numeric', month: '2-digit', day: '2-digit',
    hour: '2-digit', minute: '2-digit', second: '2-digit'
  });
}
modeEl.textContent = labelMode;

function partsToObj(parts){
  const o = {};
  for (const p of parts) o[p.type] = p.value;
  return o;
}
function render() {
  const parts = fmt.formatToParts(new Date());
  const o = partsToObj(parts);
  // o.month/day bisa "01" dst.
  clk.textContent = `${o.hour}:${o.minute}:${o.second}`;
  dateEl.textContent = `${o.year}-${o.month}-${o.day}`;
}

// sinkron ke detik tanpa drift
(function tick() {
  render();
  const now = Date.now();
  const delay = 1000 - (now % 1000);
  setTimeout(tick, delay);
})();
</script>

</body></html>
